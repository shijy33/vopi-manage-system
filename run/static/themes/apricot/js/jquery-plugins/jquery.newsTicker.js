(function(e,c,a,g){var d="newsTicker",f={row_height:20,max_rows:3,speed:400,duration:2500,direction:"up",autostart:1,pauseOnHover:1,nextButton:null,prevButton:null,startButton:null,stopButton:null,hasMoved:function(){},movingUp:function(){},movingDown:function(){},start:function(){},stop:function(){},pause:function(){},unpause:function(){}};function b(i,h){this.element=i;this.$el=e(i);this.options=e.extend({},f,h);this._defaults=f;this._name=d;this.moveInterval;this.state=0;this.paused=0;this.moving=0;if(this.$el.is("ul, ol")){this.init()}}b.prototype={init:function(){this.$el.height(this.options.row_height*this.options.max_rows).css({overflow:"hidden"});this.checkSpeed();if(this.options.nextButton&&typeof(this.options.nextButton[0])!=="undefined"){this.options.nextButton.click(function(h){this.moveNext();this.resetInterval()}.bind(this))}if(this.options.prevButton&&typeof(this.options.prevButton[0])!=="undefined"){this.options.prevButton.click(function(h){this.movePrev();this.resetInterval()}.bind(this))}if(this.options.stopButton&&typeof(this.options.stopButton[0])!=="undefined"){this.options.stopButton.click(function(h){this.stop()}.bind(this))}if(this.options.startButton&&typeof(this.options.startButton[0])!=="undefined"){this.options.startButton.click(function(h){this.start()}.bind(this))}if(this.options.pauseOnHover){this.$el.hover(function(){if(this.state){this.pause()}}.bind(this),function(){if(this.state){this.unpause()}}.bind(this))}if(this.options.autostart){this.start()}},start:function(){if(!this.state){this.state=1;this.resetInterval();this.options.start()}},stop:function(){if(this.state){clearInterval(this.moveInterval);this.state=0;this.options.stop()}},resetInterval:function(){if(this.state){clearInterval(this.moveInterval);this.moveInterval=setInterval(function(){this.move()}.bind(this),this.options.duration)}},move:function(){if(!this.paused){this.moveNext()}},moveNext:function(){if(this.options.direction==="down"){this.moveDown()}else{if(this.options.direction==="up"){this.moveUp()}}},movePrev:function(){if(this.options.direction==="down"){this.moveUp()}else{if(this.options.direction==="up"){this.moveDown()}}},pause:function(){if(!this.paused){this.paused=1}this.options.pause()},unpause:function(){if(this.paused){this.paused=0}this.options.unpause()},moveDown:function(){if(!this.moving){this.moving=1;this.options.movingDown();this.$el.children("li:last").detach().prependTo(this.$el).css("marginTop","-"+this.options.row_height+"px").animate({marginTop:"0px"},this.options.speed,function(){this.moving=0;this.options.hasMoved()}.bind(this))}},moveUp:function(){if(!this.moving){this.moving=1;this.options.movingUp();var h=this.$el.children("li:first");h.animate({marginTop:"-"+this.options.row_height+"px"},this.options.speed,function(){h.detach().css("marginTop","0").appendTo(this.$el);this.moving=0;this.options.hasMoved()}.bind(this))}},updateOption:function(h,i){if(typeof(this.options[h])!=="undefined"){this.options[h]=i;if(h=="duration"||h=="speed"){this.checkSpeed();this.resetInterval()}}},add:function(h){this.$el.append(e("<li>").html(h))},getState:function(){if(paused){return 2}else{return this.state}},checkSpeed:function(){if(this.options.duration<(this.options.speed+25)){this.options.speed=this.options.duration-25}},destroy:function(){this._destroy()}};e.fn[d]=function(i){var h=arguments;return this.each(function(){var l=e(this),k=e.data(this,"plugin_"+d),j=typeof i==="object"&&i;if(!k){l.data("plugin_"+d,(k=new b(this,j)))}if(typeof i==="string"){k[i].apply(k,Array.prototype.slice.call(h,1))}})}})(jQuery,window,document);